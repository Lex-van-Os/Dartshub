{% extends "layout/base.html.jinja" %} {% block content %}

<h1>Dartsbond Almere Agenda</h1>

<ul class="eventList">
  <li><label class="date">20e</label> Dart wedstrijd kroeg het Jokertje.</li>
  <li><label class="date">22e</label> Dart wedstrijd kroeg het Haantje.</li>
</ul>

<div class="month">
  <ul>
    <li class="prev">&#10094;</li>
    <li class="next">&#10095;</li>
    <li>
      November<br />
      <span style="font-size: 18px">2021</span>
    </li>
  </ul>
</div>

<div class="calender">
  <ul class="weekdays">
    <li>Mo</li>
    <li>Tu</li>
    <li>We</li>
    <li>Th</li>
    <li>Fr</li>
    <li>Sa</li>
    <li>Su</li>
  </ul>

  <ul class="days"></ul>
</div>

<script>
  // Code for setting up the agenda with the right data. WIP
  $(document).ready(function () {
    var dates = new Date();
    let day = dates.getDate();
    let month = dates.getMonth();
    let year = dates.getFullYear();
    let currentDate = [day + '-' + (month +1) + '-' + year]
    JSON.stringify(currentDate)
    $.ajax({
      
      url: '/api/v2/almere/events/test',
      type: 'POST',
      data: {
          "date" : JSON.stringify(currentDate),
          "time" : 2,
          "desc" : "dit is een test",
          "age" : 20
      },
      success: function (response) {
        console.log("POST succesfully completed");
        console.log(JSON.stringify(response));
      }
    })

    currentDate = new Date()
    var daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 0).getDate();
    console.log(daysInMonth);
  });
</script>

{% endblock %}
